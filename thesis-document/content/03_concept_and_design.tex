\chapter{Concept and Design}
\label{cha:conceptanddesign}

At the moment the Proceed Management system stores and manages all user assets the same for all users.
There is no option to create assets such that only a specific group of people have access to it, meaning it is unsuitable for companies and large teams for which collaboration is important.
This behaviour will be changed by the implementation of the beforementioned workspaces.

Workspaces are abstractions that enable asset isolation.
A fundamental principle of this system is that every asset belongs exclusively to one workspace.
Workspaces contain hierarchical structures, similar to folders, in which assets can be stored.
The existing implementation of the Management System supports Role-based access control (RBAC).
Which means that access to resources is determined by a user's roles.
The implemantation of workspaces will transform the existing roles, so that each role only belongs to one workspace, and so that it only affects the assets in that workspace.
Roles will also be adapted for BPMN assets, they will be applied on the folders that the BPMN assets are stored in, instead of being defined globally, where they apply to each asset.
Roles will cascade down the folder structure and be applied to all the assets in these folders as before.
Furthermore users will now be able to see BPMN assets 

We distinguish between two types of workspaces: company workspaces and personal workspaces.
Personal workspaces will offer a more simplified feature set compared to company workspaces.

Every user is automatically provided with a personal workspace, offering an individualized space within the system.
Within his workspace, a user will be granted the admin role.
Roles in a personal workspace will not be able to be modified.
Personal workspaces also cannot have members, the only way to enable others to work on it's assets will be to share them with the proper permissions.

Company workspaces will introduce roles that are associated with a hierarchical structure and cascade down through it, enabling role-based access control at multiple levels.
Company workspaces can accommodate multiple members in contrast to personal workspaces.

In order to facilitate cooperation, 
the implementation will also allow sharing assets to users outside or inside the asset's workspace and granting temporary access to user's that aren't members of the workspace to the workspace.

Company workspaces can be created by normal users, for this, they will have to input data about their company. After the workspace is created, the user is granted the role of administrator and can add new members.

The frontend will include a interface for creating company workspaces, for adding members to the workspace, for managing the structure and roles of the workspace.
In the context of company workspaces, when a user is created through the company workspace's interface, the user will be a regular Proceed user, with the only distinction being, that he will automatically be part of the company workspace.
The Management System should also have the ability to import or interact with existing user Databases.
This will facilitate team managers, to create all the accounts they need for their team at once.
The Management system frontend will show users only the contents of one workspace at the time. It will also include a simple way to view the workspaces a user belongs to and switch between them.
The frontend will include an interface for sharing assets and managing the permissions of the shared assets.

Checklist

\begin{enumerate}
    \item Interface for creatring and deleting company workspaces.
    
    \item Adapt roles to workspaces.
    \begin{itemize}
        \item Each role has to belong to one workspace
        \item Roles have to cascade down the folder structure of workspaces
        \item Roles have to roughly keep the same functionality as before.
    \end{itemize}
    
    \item Adapt asset storage for workspaces.
    \begin{itemize}
        \item Find a suitable solution to store assets.
        \item Ensure privacy between workspaces.
    \end{itemize}
    
    \item Adapt the Management System's API to take into account workspaces.
    \begin{itemize}
        \item Make sure that a the requester specifies the workspace he is refering to.
        \item Make sure that the requester belongs to the workspace where the asset he is trying to access is located.
        \item Implement an endpoint for users to get the workspaces they belong to.
        \item Implement an endpoint for users to manage the workspaces they belong to.
    \end{itemize}
    
    \item The Management System frontend will only have one active workspace at a time.
    \begin{itemize}
        \item All actions that manipulate assets, roles or create users, will be performed on the active workspace.
        \item Only the assets of the active workspace will be shown.
        \item There will be a clear indication of what worspace is active
        \item There will be an easy way to switch between workspaces.
    \end{itemize}
    
    \item Interfaces for managing different aspects of company workspace's members.
    \begin{itemize}
        \item Option for creating and deleting users.
        \begin{itemize}
            \item Basic creation with manual input.
            \item Import existing user Databases.
        \end{itemize}
        \item Option for inviting users to the workspace.
        \item Option to manage users' roles.
    \end{itemize}
    
    \item Users should be able to share assets.
    \begin{itemize}
        \item Allow users to share assets with other users.
        \begin{itemize}
            \item A person who shares something will be refered to as a sharer and the reciepient as a sharee
        \end{itemize}
        \item Users will only be able to share assets if their roles allow it.
        \item Each shared object has associated perimissions with it, which restrict the sharee's ability to access and manipulate it.
        \item Sharees will be able to view and select all workspaces where they have at least one shared asset.
        \begin{itemize}
            \item Sharees sill see the folder structure of the workspace, but they won't see any of the assets in them, besides the ones shared with him
        \end{itemize}
        \item The frontend will implement a Interface to share assets.
        \item The frontend will implement a Interface to manage shares.
        \item The frontend will indicate to the sharer, in the asset overview that an asset is shared.
        \item Users that are allowed to view an asset will also be able to see the users that it has been shared to.
    \end{itemize}
\end{enumerate}